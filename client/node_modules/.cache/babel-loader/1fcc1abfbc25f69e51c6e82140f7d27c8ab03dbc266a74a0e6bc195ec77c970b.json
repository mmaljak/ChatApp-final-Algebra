{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mario\\\\Desktop\\\\Learning\\\\Algebra-Learning\\\\Front-end\\\\ChatApp-final-Algebra\\\\client\\\\src\\\\components\\\\ChatContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport socketIOClient from \"socket.io-client\";\nimport ChatBoxReceiver, { ChatBoxSender } from './ChatBox';\nimport InputText from './InputText';\nimport UserLogin from './UserLogin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatContainer() {\n  _s();\n  let socketio = socketIOClient(\"http://localhost:5000\");\n  const [chats, setChats] = useState([]);\n  const [user, setUser] = useState(localStorage.getItem(\"user\"));\n  const [avatar, setAvatar] = useState(localStorage.getItem(\"avatar\"));\n  useEffect(() => {\n    socketio.on('chat', senderChats => {\n      setChats(senderChats);\n    });\n  });\n  function sendChatToSocket(chat) {\n    socketio.emit(\"chat\", chat);\n  }\n\n  //This will be called everytime a message has been added to the caht application\n  function addMessage(chat) {\n    const newChat = {\n      ...chat,\n      user,\n      avatar\n    };\n    setChats([...chats, newChat]);\n    sendChatToSocket([...chats, newChat]);\n  }\n  function logout() {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"avatar\");\n    setUser(\"\");\n  }\n  function ChatsList() {\n    return chats.map((chat, index) => {\n      if (chat.user === user) return /*#__PURE__*/_jsxDEV(ChatBoxSender, {\n        message: chat.message,\n        avatar: chat.avatar,\n        user: chat.user\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 39\n      }, this);\n      return /*#__PURE__*/_jsxDEV(ChatBoxReceiver, {\n        message: chat.message,\n        avatar: chat.avatar,\n        user: chat.user\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }, this);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: \"row\",\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Username: \", user]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => logout(),\n          style: {\n            color: \"blue\",\n            cursor: 'pointer'\n          },\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ChatsList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputText, {\n        addMessage: addMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(UserLogin, {\n      setUser: setUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatContainer, \"hrz93yxP31gqjC7CdoPGBIkRXBU=\");\n_c = ChatContainer;\nvar _c;\n$RefreshReg$(_c, \"ChatContainer\");","map":{"version":3,"names":["React","useEffect","useState","socketIOClient","ChatBoxReceiver","ChatBoxSender","InputText","UserLogin","jsxDEV","_jsxDEV","ChatContainer","_s","socketio","chats","setChats","user","setUser","localStorage","getItem","avatar","setAvatar","on","senderChats","sendChatToSocket","chat","emit","addMessage","newChat","logout","removeItem","ChatsList","map","index","message","fileName","_jsxFileName","lineNumber","columnNumber","children","style","display","flexDirection","justifyContent","onClick","color","cursor","_c","$RefreshReg$"],"sources":["C:/Users/Mario/Desktop/Learning/Algebra-Learning/Front-end/ChatApp-final-Algebra/client/src/components/ChatContainer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport ChatBoxReceiver, { ChatBoxSender } from './ChatBox';\r\nimport InputText from './InputText';\r\nimport UserLogin from './UserLogin';\r\n\r\n\r\nexport default function ChatContainer() {\r\n\r\n    let socketio = socketIOClient(\"http://localhost:5000\")\r\n    const [chats , setChats] = useState([])\r\n    const [user, setUser] = useState(localStorage.getItem(\"user\"))\r\n    const [avatar , setAvatar] = useState(localStorage.getItem(\"avatar\"))\r\n\r\n    useEffect(()=> {\r\n      socketio.on('chat', senderChats => {\r\n        setChats(senderChats)\r\n      })\r\n    })\r\n\r\n    function sendChatToSocket(chat){\r\n      socketio.emit(\"chat\", chat)\r\n    }\r\n\r\n    //This will be called everytime a message has been added to the caht application\r\n    function addMessage(chat){\r\n      const newChat = {...chat , user , avatar}\r\n      setChats([...chats , newChat])\r\n      sendChatToSocket([...chats , newChat])\r\n    }\r\n\r\n    function logout(){\r\n      localStorage.removeItem(\"user\")\r\n      localStorage.removeItem(\"avatar\")\r\n      setUser(\"\")\r\n    }\r\n\r\n    function ChatsList(){\r\n      return chats.map((chat, index) => {\r\n        if(chat.user === user) return <ChatBoxSender key={index} message={chat.message} avatar={chat.avatar} user={chat.user}/>\r\n        return <ChatBoxReceiver key={index} message={chat.message} avatar={chat.avatar} user={chat.user}/>\r\n      })\r\n    }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n      user ? \r\n      <div>\r\n      <div style={{display:'flex', flexDirection:\"row\", justifyContent: 'space-between'}}>\r\n        <h4>Username: {user}</h4>\r\n        <p onClick={()=> logout()} style={{color:\"blue\", cursor:'pointer'}}>Log Out</p>\r\n      </div>\r\n\r\n        <ChatsList/>\r\n        <InputText addMessage={addMessage} />\r\n      </div>\r\n      :\r\n      \r\n\r\n       <UserLogin setUser={setUser} />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}